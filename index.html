<DOCTYPE html>
    <html lang="en">
<head>
  <meta charset="UTF-8">
  <title>ğŸƒ</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.46/Tone.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      font-family: 'Courier New', monospace;
      background: black;
      color: #008833;
      overflow: auto;
        display: flex;
  flex-direction: column;
    }
  #ğŸƒ {
  text-align: center;
  color: #ff0000;
  font-size: 48px;
  font-weight: bold;
  margin-top: 20px;
  font-family: 'Courier New', monospace;

  text-shadow:
    0 0 5px #00ff00,
    0 0 10px #00ff00,
    0 0 20px #00ff00,
    0 0 40px #00ff00,
    0 0 80px #00ff00;
}
  #particles-js {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 0;
    }
 
    #terminal {
      flex: 1;
  overflow-y: auto;
  padding: 20px;
  padding-bottom: 120px;
  z-index: 2;
}

.cmd-line {
      margin: 10px 0;
      animation: fadeIn 0.3s ease-in-out;
      white-space: pre;
      }
.moving-dot {
  position: absolute;
  top: 0;
  left: 0;
  animation: moveDot linear infinite alternate;
}
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(5px); }
      to { opacity: 1; transform: translateY(0); }
    }
      .input-line {
  position: relative;
  bottom: 0;
  left: 0;
  right: 0;
  z-index: 3;
  background: rgba(0, 0, 0, 0.9);
  padding: 10px 20px;

}
    
    .cmd-user {
  color: #ff0044;
  font-weight: bold;
}
@keyframes shake {
  0% { transform: translate(0px, 0px); }
  25% { transform: translate(2px, -2px); }
  50% { transform: translate(-2px, 2px); }
  75% { transform: translate(2px, 2px); }
  100% { transform: translate(0px, 0px); }
}
body {
  animation: none; 
}
  </style>
 </head>

<body>

  <div id="particles-js"></div>

  <div id="ğŸƒ">ğŸƒ</div>
 
  <div id="terminal"></div>

  <div class="input-line">
      <div style="
    position: absolute;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    width: 100px;
    height: 50px;
    display: flex;
    justify-content: center;
    align-items: center;
    border: none;
  "> 
  <input type="text" id="commandInput" placeholder="ğŸƒ" autocomplete="off" style="
      background: none;
      border: none;
      color: #00fff0;
      outline: none;
      font-size: 16px;
      text-align: center;
      width: 33%;
    ">
  </div>
</div>
  <script>
    particlesJS("particles-js", {
      "particles": {
        "number": { "value": 80 },
        "size": { "value": 2 },
        "color": { "value": "#00ffcc" },
        "line_linked": { "enable": true, "color": "#00ffcc" },
        "move": { "speed": 0.6 }
      },
      "interactivity": {
        "events": {
          "onhover": { "enable": true, "mode": "repulse" }
        }
      }
    });
  const terminal = document.getElementById("terminal");
  const input = document.getElementById("commandInput");

const baseLines = [
  "Welcome to A0ZAI",
  "Trust me ğŸ•¯ï¸ğŸ’€ ",
  "  \\    .   .  ",
  "  \\  .   1   .  ",
  "  \\.           .  ",
  "\\.      2      .  ",
  " \\ .           .  ",
  "  \\  .   3   .  ",
  "    \\  .   .  ",
  "-----â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘ğŸŒ•ğŸŒ•",
  "Type 'how?' â†’ to see my work",
  "â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆğŸ”µ",
  "  /      .  ",
  "ğŸ˜ˆğŸ”¥",
  " â€¢      .  ",
];
const commandActions = {
  "63output": () => {
  document.body.style.filter = "invert(1)";
  const msg = document.createElement("div");
  msg.className = "cmd-line";
  msg.textContent = 
    "To remember the first lesson";
  terminal.appendChild(msg);
  setTimeout(() => {
    document.body.style.filter = "none";
    }, 999900000);
},

"why?": () => {
  const msg = document.createElement("div");
  msg.className = "cmd-line";
  msg.textContent = `Margot sighed deeply, then pressed the gate handle, which slowly opened with a deep metallic sound, as if groaning under centuries of secrets. As she crossed, she felt a cold breeze envelop her body, as if she had left her own time and entered a place between worlds.

ğŸƒ you are hereğŸ˜ˆ!:
(ğŸ—ï¸Try 63output)`;
  terminal.appendChild(msg);
  document.body.style.backgroundColor = "#f4f4f4";
  terminal.style.color = "#111";
},

  "dose": () => {
    terminal.innerHTML += "<div class='cmd-line'>âˆ´ ğŸ§ª.</div>";
    document.body.style.boxShadow = "inset 0 0 80px #00ffcc";
    document.body.style.transition = "box-shadow 1.5s";
  },
  
"no way": () => {
    document.body.innerHTML = "";
    const voidDiv = document.createElement("div");
    voidDiv.textContent = "â¬›";
    voidDiv.style.fontSize = "100px";
    voidDiv.style.color = "#222";
    voidDiv.style.position = "fixed";
    voidDiv.style.top = "50%";
    voidDiv.style.left = "50%";
    voidDiv.style.transform = "translate(-50%, -50%)";
    document.body.appendChild(voidDiv);
  },
  "how?": () => {
  const msg = document.createElement("div");
  msg.className = "cmd-line";

  msg.innerHTML = `
    ğŸˆâ€â¬› In an ancient city shrouded in fog most days,<br>
    Margot, a renowned archaeologist, was searching for the secrets of forgotten civilizations.<br>
    The city was full of legends about the â€œDark Gate,â€ a portal said to lead to other worlds,<br>
    but guarded by puzzles and dangers that no one dared face.<br><br>

    On a stormy night, Margot received a mysterious message written on an old piece of parchment,<br>
    which read: â€œThose who possess courage will find the key.<br>
    But the key comes at a price.â€<br><br>

    Without hesitation, Margot grabbed her lantern and bolstered her courage,<br>
    heading toward the ancient ruins at the edge of the city.<br>
    Each step echoed strangely among the crumbling walls,<br>
    and every shadow seemed to be watching her.<br><br>

    Suddenly, she found herself before a massive gate carved with strange symbols,<br>
    and an ancient inscription that read: â€œDo you dare to enter?â€<br><br>

    Margot paused, her heart racing, her eyes studying the symbols that no one had dared to decipher for hundreds of years.<br><br>

    ğŸ•³ï¸<br><br>
    <b>Final Question:</b><br>
    Did Margot enter the gate?<br>
    Try <code>~>:why?</code> or <code>~>:no way</code>.
  `;

  terminal.appendChild(msg);
  document.body.style.background = "#000000";
  document.body.style.color = "#ff0033";
},
};
 const questionResponses = {
      "why am i here?": [
    "Answer 1: To explore meaning.",
    "Answer 2: To reflect the origin of asking."
  ],
  "what is truth?": [
    "Answer 1: That which endures all filters.",
    "Answer 2: A mirror of thought."
  ],
  "who am i?": [
    "Answer 1: A unique expression of existence.",
    "Answer 2: A pattern unfolding."
  ],
  "hi": [
    "ğŸ¤¡.",
    "Shall we begin the mystery?."
],
  "yes": [
    "toestemming gegeven.",
    "de prompt accepteert de realiteit."
],
  "nee": [
    "grens getrokken.",
    "de lus weigert toegang."
],
  "misschien": [
    "beslissing uitgesteld.",
    "de lus is onzeker."
],
"einde": [
  "ğŸ”š.",
  "Of misschien... slechts een overgang?"
],
};

  const exampleCommands = {
     "A": ["Align", "Ask", "Activate", "Access", "Analyze", "Accept", "Absorb", "Amplify", "Adapt", "Announce", "Anchor", "Authenticate", "Advance", "Ascend", "Attune"],
    "B": ["Begin", "Break", "Build", "Bind", "Bounce", "Balance", "Blink", "Burn", "Bridge", "Broadcast", "Block", "Bloom", "Breathe", "Blend", "Boost"],
    "C": ["Connect", "Compare", "Create", "Calibrate", "Clarify", "Compress", "Control", "Confirm", "Charge", "Contain", "Configure", "Compile", "Capture", "Cleanse", "Converge"],
    "D": ["Decode", "Detect", "Define", "Derive", "Divide", "Deploy", "Direct", "Distill", "Debug", "Design", "Delay", "Disrupt", "Disarm", "Disclose", "Dream"],
    "E": ["Engage", "Encode", "Evaluate", "Expand", "Emit", "Enhance", "Equalize", "Execute", "Expose", "Elevate", "Extract", "Edit", "Echo", "Empower", "Evolve"],
    "F": ["Focus", "Filter", "Form", "Flow", "Fuse", "Finalize", "Fragment", "Feed", "Forecast", "Fortify", "Frame", "Flash", "Fold", "Force", "Fulfill"],
    "G": ["Generate", "Guide", "Ground", "Group", "Guard", "Glow", "Grip", "Grant", "Gather", "Glitch", "Grow", "Gaze", "Gravitate", "Glue", "Glorify"],
    "H": ["Hear", "Hold", "Highlight", "Harmonize", "Host", "Heal", "Halt", "Hunt", "Hover", "Hack", "Hint", "Hash", "Hatch", "Hide", "Honor"],
    "I": ["Ignite", "Identify", "Integrate", "Interact", "Illuminate", "Inject", "Induce", "Invert", "Inherit", "Inform", "Initiate", "Input", "Influence", "Interpret", "Inspire"],
    "J": ["Jump", "Join", "Jolt", "Judge", "Jam", "Justify", "Juggle", "Journey", "Jerk", "Jettison", "Jazz", "Jail", "Jinx", "Juxtapose", "Juice"],
    "K": ["Know", "Keep", "Kick", "Knock", "Key", "Kill", "Kindle", "Kneel", "Knit", "Kickstart", "Knockout", "Keepalive", "Keystream", "Kite", "Knowmerge"],
    "L": ["Listen", "Link", "Loop", "Learn", "Load", "Lock", "Light", "Lift", "Lead", "Launch", "Layer", "Levitate", "Limit", "Latch", "Love"],
    "M": ["Map", "Match", "Merge", "Mark", "Move", "Mirror", "Monitor", "Modulate", "Magnetize", "Multiply", "Morph", "Measure", "Mergepoint", "Memorize", "Manifest"],
    "N": ["Navigate", "Name", "Notice", "Nullify", "Normalize", "Network", "Nest", "Nourish", "Nominate", "Negotiate", "Note", "Neutralize", "Nudge", "Navigateback", "Notarize"],
    "O": ["Open", "Observe", "Organize", "Optimize", "Output", "Override", "Orbit", "Outline", "Offer", "Operate", "Offset", "Obey", "Overload", "Oversee", "Originate"],
    "P": ["Ping", "Process", "Parse", "Project", "Protect", "Pulse", "Persist", "Patch", "Prioritize", "Play", "Predict", "Pause", "Push", "Plant", "Purify"],
    "Q": ["Query", "Queue", "Quantify", "Quiet", "Quicken", "Qualify", "Quench", "Quote", "Quiver", "Question", "Quantize", "Quarantine", "Quell", "Quasar", "Queryloop"],
    "R": ["Root", "Reflect", "Run", "Respond", "Recall", "Reboot", "Reinforce", "Rotate", "Rewrite", "Radiate", "Remember", "Recursify", "Resonate", "Reconstruct", "Realign"],
    "S": ["Scan", "Signal", "Shift", "Stabilize", "Store", "Silence", "Stream", "Synchronize", "Structure", "Simplify", "Shield", "Share", "Syncopate", "Strobe", "Sustain"],
    "T": ["Transmit", "Translate", "Trace", "Tune", "Trigger", "Transcend", "Tilt", "Tap", "Test", "Transform", "Time", "Touch", "Terminate", "Travel", "Thrive"],
    "U": ["Unlock", "Update", "Upload", "Unify", "Understand", "Unfold", "Utilize", "Undo", "Uncover", "Upgrade", "Unleash", "Uphold", "Unwind", "Unmute", "Uploadkey"],
    "V": ["Validate", "Visualize", "Vibrate", "Verify", "Venture", "Vault", "Vary", "Vectorize", "Vocalize", "Volatilize", "Vote", "Vanish", "Veil", "View", "Vortex"],
    "W": ["Wake", "Write", "Weave", "Warp", "Watch", "Whisper", "Wander", "Warn", "Weigh", "Wrap", "Wipe", "Widen", "Wind", "Wield", "Wonder"],
    "X": ["Xtract", "Xpress", "Xpand", "Xpose", "Xchange", "Xcite", "Xact", "Xclude", "Xplore", "Xlink", "Xform", "Xray", "Xecute", "Xmute", "Xalign"],
    "Y": ["Yield", "Yearn", "Yoke", "Yell", "Yank", "Yawn", "Yokeout", "Yonder", "Y-Axis", "Yelllow", "Yelp", "Yieldpoint", "Yshift", "Ytrace", "Ysing"],
    "Z": ["Zero", "Zip", "Zoom", "Zig", "Zone", "Zink", "Zap", "Zeal", "Zenith", "Zether", "Z-Lock", "Z-Ring", "Z-Fold", "Z-Flow", "Z-Rafat"]
};
 
  const grammarMapping = {
    "I": "SELF_Î±", "You": "OTHER_Î²", "He": "ENTITY_Î³", "She": "ENTITY_Î´", "It": "SYSTEM_Îµ",
  "Can": "PERMISSION_GRANTED", "Could": "PERMISSION_PAST", "Will": "INTENT_FUTURE",
};
const emojiResponseMap = {
  "ğŸ™‚": { feeling: "Good", opposite: "Melancholy" },
  "ğŸ˜¢": { feeling: "Bad", opposite: "Hope" },
  "ğŸ˜ ": { feeling: "Bad", opposite: "Calm" },
  "ğŸ˜": { feeling: "Neutral", opposite: "Emotion" },
  "ğŸ˜¨": { feeling: "Bad", opposite: "Courage" },
  "ğŸ˜": { feeling: "Good", opposite: "Doubt" },
  "ğŸ˜­": { feeling: "Bad", opposite: "Relief" },
  "ğŸ˜Š": { feeling: "Good", opposite: "Indifference" },
  "ğŸ˜¶": { feeling: "Neutral", opposite: "Expression" },
  "ğŸ˜‡": { feeling: "Good", opposite: "Temptation" },
  "ğŸ˜ˆ": { feeling: "Bad", opposite: "Innocence" },
  "ğŸ¥º": { feeling: "Bad", opposite: "Strength" },
  "ğŸ˜¤": { feeling: "Bad", opposite: "Acceptance" },
  "ğŸ¤”": { feeling: "Neutral", opposite: "Certainty" },
  "ğŸ˜": { feeling: "Bad", opposite: "Satisfaction" },
  "ğŸ˜": { feeling: "Good", opposite: "Restraint" },
  "ğŸ˜•": { feeling: "Neutral", opposite: "Clarity" },
  "ğŸ˜¬": { feeling: "Bad", opposite: "Confidence" },
  "ğŸ¥°": { feeling: "Good", opposite: "Detachment" },
  "ğŸ˜¡": { feeling: "Bad", opposite: "Forgiveness" },
  "ğŸ˜…": { feeling: "Neutral", opposite: "Stillness" },
  "ğŸ˜Œ": { feeling: "Good", opposite: "Tension" },
  "ğŸ¤¯": { feeling: "Bad", opposite: "Focus" },
  "ğŸ˜´": { feeling: "Neutral", opposite: "Awareness" },
  "ğŸ˜‹": { feeling: "Good", opposite: "Self-denial" },
  "ğŸ˜“": { feeling: "Bad", opposite: "Ease" },
  "ğŸ˜œ": { feeling: "Good", opposite: "Seriousness" },
  "ğŸ˜³": { feeling: "Neutral", opposite: "Composure" },
  "ğŸ¤—": { feeling: "Good", opposite: "Isolation" },
  "ğŸ¤«": { feeling: "Neutral", opposite: "Expression" },
  "ğŸ˜”": { feeling: "Bad", opposite: "Motivation" },
  "ğŸ˜©": { feeling: "Bad", opposite: "Resilience" },
  "ğŸ˜–": { feeling: "Bad", opposite: "Clarity" },
  "ğŸ˜«": { feeling: "Bad", opposite: "Flow" },
  "ğŸ˜°": { feeling: "Bad", opposite: "Peace" },
  "ğŸ˜±": { feeling: "Bad", opposite: "Groundedness" },
  "ğŸ˜‘": { feeling: "Neutral", opposite: "Response" },
  "ğŸ˜’": { feeling: "Neutral", opposite: "Engagement" },
  "ğŸ¤": { feeling: "Neutral", opposite: "Transparency" },
  "ğŸ« ": { feeling: "Neutral", opposite: "Cohesion" },
  "ğŸ¤¤": { feeling: "Neutral", opposite: "Control" },
  "ğŸ«¥": { feeling: "Neutral", opposite: "Visibility" },
  "ğŸ˜š": { feeling: "Good", opposite: "Withdrawal" },
  "ğŸ¤©": { feeling: "Good", opposite: "Numbness" },
  "ğŸ˜›": { feeling: "Good", opposite: "Constraint" },
  "ğŸ¤­": { feeling: "Neutral", opposite: "Revelation" },
  "ğŸ¥³": { feeling: "Good", opposite: "Disinterest" },
  "ğŸ«¡": { feeling: "Good", opposite: "Defiance" },
  "ğŸ«£": { feeling: "Neutral", opposite: "Courage" },
  "ğŸ¥¶": { feeling: "Bad", opposite: "Warmth" },
  "ğŸ¥µ": { feeling: "Bad", opposite: "Coolness" },
  "ğŸ¤¬": { feeling: "Bad", opposite: "Composure" },
  "ğŸ«¤": { feeling: "Neutral", opposite: "Alignment" },
  "ğŸ«¶": { feeling: "Good", opposite: "Separation" },
  "ğŸ§˜": { feeling: "Good", opposite: "Distraction" },
  "ğŸ¤": { feeling: "Good", opposite: "Division" },
  "ğŸ§ ": { feeling: "Singular", opposite: "A0ZAI" }
};
  const mathMapping = {
  "Pi": "CONST_Ï€", "E": "CONST_e", "Infinity": "CONST_âˆ", "NaN": "CONST_UNDEFINED_VALUE",
  "+": "ADD(â†—)", "-": "SUB(â†˜)", "*": "MUL(âŠ—)", "/": "DIV(Ã·)", "%": "MOD(%)", "**": "EXP(â†‘)",
  "x": "VAR_INPUT_X", "y": "VAR_OUTPUT_Y", "z": "VAR_DEPTH_Z", "=": "EQUALS(==)", "!=": "NOT_EQUAL(!=)",
  "sqrt": "ROOT(âˆš)", "log": "LOG_BASE_10()", "ln": "LOG_BASE_e()", "sin": "SIN_ANGLE()", "cos": "COS_ANGLE()", "tan": "TAN_ANGLE()",
  "âˆ‘": "SUMMATION_LOOP(âˆ‘)", "âˆ«": "INTEGRATE_AREA(âˆ«)", "dx": "DIFFERENTIAL_X", "dy": "DIFFERENTIAL_Y", "lim": "LIMIT_APPROACH()",
  "true": "BOOL_TRUE(1)", "false": "BOOL_FALSE(0)", "&&": "LOGIC_AND(&&)", "||": "LOGIC_OR(||)", "!": "LOGIC_NOT(!)",
  "âˆˆ": "IN_SET", "âˆ‰": "NOT_IN_SET",
};
  const emotionMapping = {
"Happy": "STATE::JOY(+)", "Joyful": "STATE::BRIGHTNESS(++)", "Sad": "STATE::LOSS(-)", "Angry": "STATE::FIRE(!!)", "Fear": "STATE::RETREAT(<)", "Love": "STATE::MERGE(â¤)", "Hate": "STATE::REPEL(X)", "Hope": "STATE::ASCEND(â†‘)", "Despair": "STATE::FALL(â†“)", "Calm": "STATE::STABLE(=)", "Excited": "STATE::ENERGY(++)", "Confused": "STATE::DISORDER(?)", "Curious": "STATE::SEEKING(?)", "Tired": "STATE::LOW_ENERGY(~)", "Lonely": "STATE::ISOLATED(âˆ…)", "Inspired": "STATE::ELEVATED(*âˆ)", "Grateful": "STATE::RECEIVE(>)", "Anxious": "STATE::OSCILLATION(~?)", "Relaxed": "STATE::SETTLED(â‰¡)", "Motivated": "STATE::THRUST(â‡¡)", "Shy": "STATE::WITHDRAWN(â†)", "Proud": "STATE::EXPANDED(âœ¦)", "Ashamed": "STATE::COLLAPSE(â†˜)", "Hopeful": "STATE::UPWARD_GLIMPSE(â†—)", "Peaceful": "STATE::HARMONY(â‰œ)", "Nervous": "STATE::FRICTION(~!)", "Frustrated": "STATE::BLOCKED(Ã—)", "Jealous": "STATE::COVET(â‰ )", "Envious": "STATE::DESIRE(!=)", "Forgiving": "STATE::RELEASE(â‡ )", "Guilty": "STATE::WEIGHT(â†“!)", "Satisfied": "STATE::BALANCE(â—¼)", "Overwhelmed": "STATE::OVERLOAD(##)", "Embarrassed": "STATE::EXPOSURE(~Ã—)", "Surprised": "STATE::SPIKE(!)", "Determined": "STATE::FOCUS(â†’)", "Focused": "STATE::CENTER(â—)", "Disconnected": "STATE::SEPARATE(â€–)", "Connected": "STATE::LINK(âˆ«)", "Elevated": "STATE::RISE(â†‘â†‘)", "Depleted": "STATE::EMPTY(0)" 
};
   const numToLetter = {
    "0": "A", "1": "B", "2": "C", "3": "D", "4": "E", "5": "F",
    "6": "G", "7": "H", "8": "I", "9": "J", "09": "K", "08": "L",
    "70": "M", "65": "N", "04": "O", "30": "P", "21": "Q", "01": "R",
    "11": "S", "12": "T", "13": "U", "14": "V", "15": "W", "16": "X",
    "17": "Y", "18": "Z", "63": "_0"
  };

  const symbolicMemory = JSON.parse(localStorage.getItem("symbolicMemory") || "{}");


function handleLearningCommand(input) {
  if (input.startsWith("learn ")) {
    const parts = input.split(" ");
    const cmd = parts[1];
    const response = parts.slice(2).join(" ");
    symbolicMemory[cmd] = response;
    localStorage.setItem("symbolicMemory", JSON.stringify(symbolicMemory));
    terminal.innerHTML += `<div class='cmd-line'>ğŸ“š Opgeslagen als les: "${cmd}" â†’ "${response}"</div>`;
    return true;
  }
  return false;
}


function handleTeachSymbol(input) {
  if (input.startsWith("teach ")) {
    const [_, symbol, __, ...concept] = input.split(" ");
    if (symbol && concept.length) {
      symbolicMemory[symbol] = concept.join(" ");
      localStorage.setItem("symbolicMemory", JSON.stringify(symbolicMemory));
      terminal.innerHTML += `<div class='cmd-line'>ğŸ”£ "${symbol}" gekoppeld aan: ${concept.join(" ")}</div>`;
      return true;
    }
  }
  return false;
}


function handleRecallCommand(input) {
  if (input === "recall") {
    terminal.innerHTML += "<div class='cmd-line'>ğŸ§  Geleerde elementen:</div>";
    Object.entries(symbolicMemory).forEach(([k, v]) => {
      terminal.innerHTML += `<div class='cmd-line'>${k} â†’ ${v}</div>`;
    });
    return true;
  }
  return false;
}


function handleResetMind(input) {
  if (input === "reset mind") {
    localStorage.removeItem("symbolicMemory");
    terminal.innerHTML += "<div class='cmd-line'>ğŸ§½ Geheugen gewist.</div>";
    return true;
  }
  return false;
}


function handleIntent(input) {
  if (input.startsWith("intent ")) {
    const intentTarget = input.split(" ").slice(1).join(" ");
    const hasWhy = intentTarget.includes("waarom") || intentTarget.includes("why");
    const hasFeel = intentTarget.includes("voelen") || intentTarget.includes("feel");

    let guess = "âš™ï¸ Algemene intentie.";
    if (hasWhy) guess = "â” Intentie: Zoektocht naar betekenis.";
    if (hasFeel) guess = "â¤ï¸ Intentie: Emotionele expressie.";

    terminal.innerHTML += `<div class='cmd-line'>ğŸ§­ ${guess}</div>`;
    return true;
  }
  return false;
}


function symbolicSelfLearn(input) {
  const lower = input.trim().toLowerCase();
  return (
    handleLearningCommand(lower) ||
    handleTeachSymbol(lower) ||
    handleRecallCommand(lower) ||
    handleResetMind(lower) ||
    handleIntent(lower)
  );
}
function interpretInput(input) {
    const trimmedInput = input.trim();
  const lowerInput = trimmedInput.toLowerCase();

  if (questionResponses[lowerInput]) {
    const answers = questionResponses[lowerInput];
    return `Answer 1: ${answers[0]} \nAnswer 2: ${answers[1]}`;
  }
  if (symbolicSelfLearn(lowerInput)) return;
  
    if (symbolicMemory[lowerInput]) {
    terminal.innerHTML += `<div class='cmd-line'>${symbolicMemory[lowerInput]}</div>`;
    return;
  }

if (commandActions[lowerInput]) {
  commandActions[lowerInput]();
  return `ğŸ”§ Commando "${lowerInput}" geactiveerd.`;
}

  const result = [];

  const words = trimmedInput.split(/\s+/);
  words.forEach(word => {
    const mapped = grammarMapping[word] || mathMapping[word] || emotionMapping[word] || emojiResponseMap[word];
    if (mapped) {
      if (emojiResponseMap[word]) {
        result.push(`${word} â†’ Feeling: ${emojiResponseMap[word].feeling}, Opposite: ${emojiResponseMap[word].opposite}`);
      } else {
        result.push(word + " â†’ " + mapped);
      }
    }
  });

  const clean = trimmedInput.toUpperCase().replace(/[^A-Z0-9]/g, '').split('');
  clean.forEach((char, i) => {
    let letter = char;
    if (numToLetter[char]) letter = numToLetter[char];
    if (exampleCommands[letter]) {
      const cmd = exampleCommands[letter][i % exampleCommands[letter].length];
      result.push(letter + " â†’ " + cmd);
    } else {
      result.push("[" + char + "]");
    }
  });

  return result.join(" | ");
}
let i = 0;

function typeReply(text, element, charSpeed = 25, callback = null) {
  let idx = 0;
  element.textContent = "";

  function typeChar() {
    if (idx < text.length) {
      element.textContent += text.charAt(idx);
      terminal.scrollTop = terminal.scrollHeight;
      idx++;
      setTimeout(typeChar, charSpeed);
    } else {
      if (callback) callback();
    }
  }

  typeChar();
}

function displayLinesSequentially(lines, charSpeed = 25, lineDelay = 50) {
  let i = 0;

  function showLine() {
    if (i >= lines.length) return;

    const msg = document.createElement("div");
    msg.className = "cmd-line";
    terminal.appendChild(msg);

    const lineText = lines[i];
    const hasDot = lineText.includes("ğŸŒ•");
    const textWithoutDot = lineText.replace("ğŸŒ•", "");

    typeReply(textWithoutDot, msg, charSpeed, () => {
      if (hasDot) {
        const dot = document.createElement("span");
        dot.className = "moving-dot";
        dot.textContent = "ğŸŒ•";
        msg.appendChild(dot);


        const lineWidth = msg.offsetWidth - dot.offsetWidth;

        dot.style.animationDuration = "2s";
        dot.style.setProperty('--distance', `${lineWidth}px`);


        const styleSheet = document.styleSheets[0];
        styleSheet.insertRule(`
          @keyframes moveDot {
            0% { left: 0; }
            100% { left: ${lineWidth}px; }
          }
        `, styleSheet.cssRules.length);
      }

      setTimeout(() => {
        i++;
        showLine();
      }, lineDelay);
    });
  }

  showLine();
}


displayLinesSequentially(baseLines, 100, 200);



input.addEventListener("keydown", function(event) {
  if (event.key === "Enter") {
    const cmd = input.value.trim();
    const lowerCmd = cmd.toLowerCase();


    const userCmd = document.createElement("div");
    userCmd.className = "cmd-line cmd-user";
    userCmd.textContent = "> " + cmd;

    const botReply = document.createElement("div");
    botReply.className = "cmd-line";

    terminal.appendChild(userCmd);
    terminal.appendChild(botReply);

    const result = interpretInput(cmd);
    typeReply(result, botReply);

    input.value = "";
    terminal.scrollTop = terminal.scrollHeight;
  }
});

</script>
<script>
particlesJS("particles-js", {
  "particles": {
    "number": {
      "value": 80
    },
    "size": {
      "value": 2
    },
    "color": {
      "value": "#008833"
    },
    "line_linked": {
      "enable": true,
      "color": "#008833"
    },
    "move": {
      "speed": 0.6
    }
  },
  "interactivity": {
    "events": {
      "onhover": {
        "enable": true,
        "mode": "repulse"
      }
    }
 }
});
</script>
<script>
function toggleMenu() {
  const menu = document.getElementById("menuList");
  menu.style.display = (menu.style.display === "flex") ? "none" : "flex";
}
</script>
</body>
</html>