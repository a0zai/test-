<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Mirror Terminal Lite</title>
<style>
  body {
    background: #001f1f;
    color: #00ffcc;
    font-family: monospace, monospace;
    margin: 0; padding: 0;
    display: flex;
    flex-direction: column;
    height: 100vh;
  }
  #terminal {
    flex: 1;
    overflow-y: auto;
    padding: 10px;
  }
  #commandInput {
    border: none;
    padding: 12px;
    font-size: 18px;
    width: 100%;
    box-sizing: border-box;
    background: #002b2b;
    color: #00ffcc;
    outline: none;
  }
  .cmd-line {
    margin-bottom: 4px;
    white-space: pre-wrap; /* ÙŠØ­Ø§ÙØ¸ Ø¹Ù„Ù‰ Ø§Ù„ÙØ±Ø§ØºØ§Øª ÙˆØ§Ù„Ø£Ø³Ø·Ø± */
  }
  .cmd-user {
    color: #ffaa00;
  }
</style>
</head>
<body>

<div id="terminal"></div>
<input id="commandInput" type="text" placeholder="Enter command and press Enter..." autocomplete="off" autofocus />

<script>
  const terminal = document.getElementById("terminal");
  const input = document.getElementById("commandInput");

  const baseLines = [
    "ğŸª",
    "   â–“",
    " â–“ R â–“",
    "   â–“",
    "[R] Root system initialized...",
    "   â–“",
    " â–“ A â–“",
    "   â–“",
    "[A] Access protocol engaged...",
    "   â–“",
    " â–“ F â–“",
    "   â–“",
    "[F] Framework structure generated...",
    "   â–“",
    " â–“ A â–“",
    "   â–“",
    "[A] Activation signal confirmed...",
    "   â–“",
    " â–“ T â–“",
    "   â–“",
    "[T] Transfer in progress...",
    "   â–“",
    " â–“ Y â–“",
    "   â–“",
    "  \\      .  ",
    "  \\    .   .  ",
    "  \\  .   1   .  ",
    "  \\.           .  ",
    "\\.      2      .  ",
    " \\ .           .  ",
    "  \\  .   3   .  ",
    "    \\  .   .  ",
    "     \\   .  ",
    "|.       | ",
    "  /      .  ",
    "   /   .   .  ",
    "   / .   6   .  ",
    "  /.           .  ",
    "/.      9      .  ",
    "/  .           .  ",
    "/    .   6   .  ",
    "/      .   .  ",
    "/       .  ",
    "|.        |",
    " â€¢       .  ",
    " â€¢     .   .  ",
    " â€¢  .   3   .  ",
    " â€¢ .           .  ",
    "â€¢.      2      .  ",
    " â€¢ .           .  ",
    "  â€¢  .   1   .  ",
    "   â€¢  .   .  ",
    " â€¢      .  ",
    "[Y] Yielding identity signature...",
    "   â–“",
    " â–“ A â–“",
    "   â–“",
    "[A] Authorization granted...",
    "   â–“",
    " â–“ O â–“",
    "   â–“",
    "[O] Operating core systems...",
    "   â–“",
    " â–“ S â–“",
    "   â–“",
    "[S] System secured. Execution complete.",
    "Response: Live signal online.",
    "Awaiting worldğŸš€..."
  ];

  // Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ Ø§Ù„Ø®Ø·ÙˆØ· ØªØ¯Ø±ÙŠØ¬ÙŠØ§Ù‹ Ø¹Ù†Ø¯ Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„ØªØ´ØºÙŠÙ„
  let i = 0;
  function showBaseLines() {
    if(i < baseLines.length) {
      const div = document.createElement("div");
      div.className = "cmd-line";
      div.textContent = baseLines[i];
      terminal.appendChild(div);
      terminal.scrollTop = terminal.scrollHeight;
      i++;
      setTimeout(showBaseLines, 300);
    }
  }

  // Ø°Ø§ÙƒØ±Ø© Ø±Ù…Ø²ÙŠØ© Ù…Ø­ÙÙˆØ¸Ø© ÙÙŠ localStorage
  const symbolicMemory = JSON.parse(localStorage.getItem("symbolicMemory") || "{}");

  // ØªÙ†ÙÙŠØ° Ø£ÙˆØ§Ù…Ø± Ø§Ù„ØªØ¹Ù„Ù… Ø§Ù„Ø¨Ø³ÙŠØ·Ø©
  function handleLearningCommand(input) {
    if(input.startsWith("learn ")) {
      const parts = input.split(" ");
      if(parts.length < 3) return "Usage: learn <command> <response>";
      const cmd = parts[1];
      const response = parts.slice(2).join(" ");
      symbolicMemory[cmd] = response;
      localStorage.setItem("symbolicMemory", JSON.stringify(symbolicMemory));
      return `Learned command "${cmd}" with response: "${response}"`;
    }
    return null;
  }
const commandMap = {
  "hi": "Hello, Rafat here! ğŸ‘‹",
  "help": "Available commands: hi, help, about, learn, recall, clear",
  "about": "This is Mirror Terminal, a symbolic AI interface by Rafat."
};
  // ØªÙØ³ÙŠØ± Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„
  function interpretInput(input) {
    const lowerInput = input.toLowerCase();

    const learnResult = handleLearningCommand(lowerInput);
    if(learnResult) return learnResult;

    if(symbolicMemory[lowerInput]) return symbolicMemory[lowerInput];

    if(lowerInput === "clear") {
      terminal.innerHTML = "";
      return "Terminal cleared.";
    }

    if(lowerInput === "recall") {
      let res = "ğŸ§  Learned commands:\n";
      for(let key in symbolicMemory) {
        res += `${key} â†’ ${symbolicMemory[key]}\n`;
      }
      return res.trim();
    }

    return `âš ï¸ Unknown command: "${input}"`;
  }

  // Ø¥Ø¶Ø§ÙØ© Ø³Ø·Ø± Ø¬Ø¯ÙŠØ¯ Ù…Ø¹ ØªÙ…Ø±ÙŠØ± ØªÙ„Ù‚Ø§Ø¦ÙŠ
  function appendLine(text, className="cmd-line") {
    const div = document.createElement("div");
    div.className = className;
    div.textContent = text;
    terminal.appendChild(div);
    terminal.scrollTop = terminal.scrollHeight;
  }

  // Ø­Ø¯Ø« Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø¥Ù†ØªØ± ÙÙŠ Ø­Ù‚Ù„ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„
  input.addEventListener("keydown", function(e) {
    if(e.key === "Enter") {
      const cmd = input.value.trim();
      if(!cmd) return;

      appendLine("> " + cmd, "cmd-line cmd-user");
      const response = interpretInput(cmd);
      appendLine(response);

      input.value = "";
    }
  });

  // Ø¨Ø¯Ø¡ Ø¹Ø±Ø¶ Ø§Ù„Ø®Ø·ÙˆØ· Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
  showBaseLines();
</script>

</body>
</html>