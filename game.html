<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>366</title>
<script src="https://cdn.jsdelivr.net/npm/tsparticles@2/tsparticles.bundle.min.js"></script>

<style>
  :root {
    --fg: #e6fff0;
    --accent: #ff2a2a;   /* أحمر للجزيئات والوميض */
    --muted: #8ef3b0;
    --glitch1: #00ffd1;
    --glitch2: #ff3b3b;
  }

  * { box-sizing: border-box; }
  html, body {
    margin: 0; height: 100%; background: #000; color: var(--fg);
    font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
    overflow: hidden;
  }

  /* طبقة الجزيئات */
  #particles {
    position: fixed; inset: 0; z-index: 3; pointer-events: none;
  }

  /* طبقة الرادار */
  #radar {
    position: fixed; top: 2rem; left: 2rem;
    width: 280px; height: 280px; z-index: 1; opacity: 0.25;
    filter: drop-shadow(0 0 10px #0f0);
  }

  /* حاوية المحتوى */
  .stage {
    position: relative; z-index: 4; height: 100vh; width: 100vw;
    display: grid; place-items: center;
    padding: 2rem;
  }

  /* النص المركزي */
  .line {
    font-weight: 700; text-align: center;
    letter-spacing: 0.5px; opacity: 0; transform: translateY(8px) scale(0.98);
    transition: opacity .6s ease, transform .6s ease;
  }
  .line.show { opacity: 1; transform: translateY(0) scale(1); }

  .line.l1 { font-size: clamp(22px, 4vw, 40px); color: var(--muted); }
  .line.l2 { font-size: clamp(22px, 4vw, 40px); color: var(--fg); }
  .line.l3 { font-size: clamp(16px, 2.6vw, 26px); color: #b6ffca; }
  .line.l4 { font-size: clamp(18px, 3vw, 30px); color: #d2ffe2; }
  .line.logo { font-size: clamp(22px, 4.6vw, 44px); color: #fff; }

  /* تأثير glitch للنص */
  .glitch {
    position: relative; display: inline-block;
    text-shadow:
      0 0 6px rgba(255,255,255,.25),
      0 0 18px rgba(255,255,255,.15);
    animation: flicker 2.2s infinite steps(60);
  }
  .glitch::before,
  .glitch::after{
    content: attr(data-text);
    position: absolute; inset: 0; clip-path: inset(0 0 0 0);
    mix-blend-mode: lighten; opacity: .75;
  }
  .glitch::before{ color: var(--glitch1); transform: translate(2px,0); animation: glitch1 1.3s infinite; }
  .glitch::after { color: var(--glitch2); transform: translate(-2px,0); animation: glitch2 1.1s infinite; }

  @keyframes glitch1 {
    0% { clip-path: inset(0 0 80% 0); }
    20% { clip-path: inset(10% 0 60% 0); }
    40% { clip-path: inset(80% 0 0 0); }
    60% { clip-path: inset(30% 0 40% 0); }
    80% { clip-path: inset(50% 0 20% 0); }
    100% { clip-path: inset(0 0 80% 0); }
  }
  @keyframes glitch2 {
    0% { clip-path: inset(80% 0 0 0); }
    20% { clip-path: inset(60% 0 10% 0); }
    40% { clip-path: inset(0 0 80% 0); }
    60% { clip-path: inset(40% 0 30% 0); }
    80% { clip-path: inset(20% 0 50% 0); }
    100% { clip-path: inset(80% 0 0 0); }
  }
  @keyframes flicker {
    0%, 100% { opacity: 0.98; }
    10% { opacity: 0.90; }
    20% { opacity: 0.99; }
    30% { opacity: 0.93; }
    40% { opacity: 1; }
    50% { opacity: 0.95; }
    60% { opacity: 1; }
    70% { opacity: 0.92; }
    80% { opacity: 1; }
    90% { opacity: 0.96; }
  }

  /* بانل الكود */
  .code {
    width: min(92vw, 880px);
    margin-inline: auto;
    background: rgba(10, 18, 10, 0.6);
    border: 1px solid rgba(255,255,255,0.08);
    border-radius: 10px;
    padding: 14px 18px;
    font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
    font-size: clamp(12px, 1.9vw, 16px);
    line-height: 1.55;
    color: #c4ffd8;
    box-shadow: 0 0 22px rgba(0,255,120,0.08) inset, 0 0 12px rgba(0,255,120,0.1);
    opacity: 0; transform: translateY(8px) scale(.98);
    transition: opacity .6s ease, transform .6s ease;
  }
  .code.show { opacity: 1; transform: translateY(0) scale(1); }
  .hl { color: var(--accent); text-shadow: 0 0 8px rgba(255,42,42,.6); font-weight: 700; }

  /* فلاش ختامي بسيط */
  .flash {
    position: fixed; inset: 0; background: #fff; opacity: 0; z-index: 6;
    pointer-events: none;
  }
  .flash.show { animation: flash .22s ease-out 1; }
  @keyframes flash { 0% {opacity: 0} 30% {opacity: .9} 100% {opacity: 0} }
</style>
</head>
<body>

<canvas id="radar" width="280" height="280" aria-hidden="true"></canvas>
<div id="particles" aria-hidden="true"></div>

<div class="stage" aria-live="polite">
  <div class="lines">
    <div id="l1" class="line l1"><span class="glitch" data-text="في عمق المستودعات…">في عمق المستودعات…</span></div>
    <div id="l2" class="line l2"><span class="glitch" data-text="رقم واحد تكرر.">رقم واحد تكرر.</span></div>

    <pre id="code" class="code"><code>
./repo/
 ├─ src/
 │   ├─ core.py
 │   ├─ utils.py
 │   └─ index_<span class="hl">30066</span>.py
 ├─ docs/
 │   └─ notes_<span class="hl">30066</span>.md
 ├─ .github/
 │   └─ workflows/build.yml   # step echo "<span class="hl">30066</span>"
 └─ setup.py                  # install hook → scans → "<span class="hl">30066</span>"
    </code></pre>

    <div id="l3" class="line l3"><span class="glitch" data-text="آلاف المشاريع…">آلاف المشاريع…</span></div>
    <div id="l4" class="line l4"><span class="glitch" data-text="نفس النمط… نفس الخطر.">نفس النمط… نفس الخطر.</span></div>

    <div id="logo" class="line logo"><span class="glitch" data-text="A0ZAI — المعلومة تسبق الحدث.">A0ZAI — المعلومة تسبق الحدث.</span></div>
  </div>
</div>

<div class="flash" id="flash"></div>

<script>

const l1 = document.getElementById('l1');
const l2 = document.getElementById('l2');
const code = document.getElementById('code');
const l3 = document.getElementById('l3');
const l4 = document.getElementById('l4');
const logo = document.getElementById('logo');
const flash = document.getElementById('flash');

function sequence(){
  // reset (لو حاب تعيد التشغيل نقدر نستدعي sequence من جديد)
  [l1,l2,code,l3,l4,logo].forEach(el => el.classList.remove('show'));
  flash.classList.remove('show');

  s(()=> l1.classList.add('show'), 50);           // 0.00s
  s(()=> l2.classList.add('show'), 2000);         // 2.00s
  s(()=> code.classList.add('show'), 4000);       // 4.00s
  s(()=> l3.classList.add('show'), 7000);         // 7.00s
  s(()=> l4.classList.add('show'), 7400);         // 7.40s
  s(()=> flash.classList.add('show'), 9000);      // 9.00s
  s(()=> logo.classList.add('show'), 9200);       // 9.20s

  // (اختياري) إعادة التشغيل بعد 18 ثانية
  // s(()=> sequence(), 18000);
}
sequence();

/* ===== 2) الرادار البسيط ===== */
(function radar(){
  const cvs = document.getElementById('radar');
  const ctx = cvs.getContext('2d');
  const W = cvs.width, H = cvs.height;
  const cx = W/2, cy = H/2, r = Math.min(cx, cy) - 8;
  let angle = 0;

  function drawGrid(){
    ctx.clearRect(0,0,W,H);
    ctx.save();
    ctx.translate(cx,cy);

    // دوائر
    ctx.strokeStyle = 'rgba(0,255,100,0.35)';
    ctx.lineWidth = 1;
    for(let i=1;i<=4;i++){
      ctx.beginPath();
      ctx.arc(0,0,(r/4)*i,0,Math.PI*2);
      ctx.stroke();
    }
    // محاور
    ctx.beginPath(); ctx.moveTo(-r,0); ctx.lineTo(r,0); ctx.stroke();
    ctx.beginPath(); ctx.moveTo(0,-r); ctx.lineTo(0,r); ctx.stroke();

    ctx.restore();
  }

  function sweep(){
    drawGrid();
    ctx.save();
    ctx.translate(cx,cy);

    // مخروط المسح
    const grd = ctx.createRadialGradient(0,0,0, 0,0,r);
    grd.addColorStop(0, 'rgba(0,255,120,0.15)');
    grd.addColorStop(1, 'rgba(0,255,120,0.0)');
    ctx.fillStyle = grd;

    ctx.beginPath();
    const width = Math.PI/16; // عرض الشعاع
    ctx.moveTo(0,0);
    ctx.arc(0,0,r, angle - width, angle + width, false);
    ctx.closePath();
    ctx.fill();

    // خط الشعاع
    ctx.strokeStyle = 'rgba(0,255,160,0.55)';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(0,0);
    ctx.lineTo(r * Math.cos(angle), r * Math.sin(angle));
    ctx.stroke();

    ctx.restore();
    angle += 0.035; // سرعة الدوران
    requestAnimationFrame(sweep);
  }
  sweep();
})();


tsParticles.load("particles", {
  particles: {
    number: { value: 80, density: { enable: true, area: 800 } },
    color: { value: "#ff0000" },
    shape: { type: "circle" },
    opacity: { value: 0.35, random: false },
    size: { value: 1.8, random: { enable: true, minimumValue: 0.6 } },
    links: { enable: false },
    move: { enable: true, speed: 0.6, direction: "none", random: true, outModes: "out" }
  },
  detectRetina: true,
  background: { color: "transparent" }
});
</script>
</body>
</html>